<app-main-banner></app-main-banner>

<!-- Loading Indicator -->
<div *ngIf="loading" class="p-4 text-center text-gray-600">
  <p>Cargando inventario...</p>
</div>

<!-- Mensaje si no hay datos -->
<div *ngIf="!loading && inventory.length === 0" class="p-4 text-center text-gray-600">
  <p>No hay datos disponibles en el inventario.</p>
</div>

<!-- Tabla de inventario -->
<div *ngIf="!loading && inventory.length > 0">
  <table class="table-auto w-full border-collapse">
    <thead>
      <tr class="bg-gray-100">
        <th class="p-3 border">ID Material</th>
        <th class="p-3 border">Categoría</th>
        <th class="p-3 border">Tipo</th>
        <th class="p-3 border">Calibre</th>
        <th class="p-3 border">Cantidad</th>
        <th class="p-3 border">Color</th>
      </tr>
    </thead>
    <tbody>
      <!-- Cada material como una fila -->
      <ng-container *ngFor="let item of inventory">
        <tr
          (click)="toggleDetails(item)"
          class="cursor-pointer hover:bg-gray-200 border"
        >
          <td class="p-3 border">{{ item.id_material }}</td>
          <td class="p-3 border">{{ item.category || 'Sin Categoría' }}</td>
          <td class="p-3 border">{{ item.type || 'Sin Tipo' }}</td>
          <td class="p-3 border">{{ item.caliber || 'Sin Calibre' }}</td>
          <td
            class="p-3 border"
            [class.text-green-600]="item.material_quantity > 10"
            [class.text-red-600]="item.material_quantity <= 10"
          >
            {{ item.material_quantity || 0 }}
          </td>
          <td class="p-3 border">{{ item.color || 'Sin Color' }}</td>
        </tr>

        <!-- Detalles del material seleccionado -->
        <tr *ngIf="selectedItem === item">
          <td colspan="6" class="p-4 bg-gray-50">
            <h3 class="font-bold mb-2">Detalles del Material</h3>
            <p><strong>ID Material:</strong> {{ item.id_material }}</p>
            <p><strong>Categoría:</strong> {{ item.category }}</p>
            <p><strong>Tipo:</strong> {{ item.type }}</p>
            <p><strong>Calibre:</strong> {{ item.caliber }}</p>
            <p><strong>Cantidad:</strong> {{ item.material_quantity }}</p>
            <p><strong>Color:</strong> {{ item.color }}</p>
          </td>
        </tr>
      </ng-container>
    </tbody>
  </table>
</div>




