<app-main-banner></app-main-banner>

<!-- Indicador de carga -->
<div *ngIf="loading" class="p-4 text-center text-gray-600">
  <p>Cargando pedidos...</p>
</div>

<!-- Tabla de pedidos -->
<div *ngIf="!loading">
  <div class="mb-4">
    <label>
      <input type="checkbox" [(ngModel)]="showPrints" (change)="updateFilteredOrders()" />
      Impresiones
    </label>
    <label>
      <input type="checkbox" [(ngModel)]="showCuts" (change)="updateFilteredOrders()" />
      Cortes
    </label>
    <label>
      <input type="checkbox" [(ngModel)]="showSales" (change)="updateFilteredOrders()" />
      Ventas
    </label>
  </div>

  <table class="table-auto w-full border-collapse">
    <thead>
      <tr>
        <th class="p-3 border">CÃ³digo</th>
        <th class="p-3 border">Tipo</th>
        <th class="p-3 border">Cliente</th>
        <th class="p-3 border">Estado</th>
        <th class="p-3 border">Fecha</th>
        <th class="p-3 border">Total</th>
      </tr>
    </thead>
    <tbody>
      <tr
        *ngFor="let order of filteredOrdersList"
        class="cursor-pointer hover:bg-gray-200"
        (click)="toggleDetails(order)"
      >
        <td class="p-3 border">{{ order.id_order }}</td>
        <td class="p-3 border">{{ order.order_type }}</td>
        <td class="p-3 border">{{ order.name }}</td>
        <td class="p-3 border">{{ order.order_status }}</td>
        <td class="p-3 border">{{ order.created_at }}</td>
        <td class="p-3 border">{{ order.total }}</td>
      </tr>
    </tbody>
  </table>
</div>